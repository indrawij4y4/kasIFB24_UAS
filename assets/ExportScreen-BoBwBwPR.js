import{j as e,l as h,a as x,D as c,u as b,s as f}from"./ui-ojUPcdkR.js";import{r as u}from"./vendor-S3JaNCHW.js";import{u as I}from"./useQuery-DrWLbDdI.js";import{M as S}from"./Modal-ChpNS6wC.js";import{S as j}from"./Select-0tL3yPF9.js";import{e as m,a as E}from"./index-b6SL6hsZ.js";function T(){const[o,s]=u.useState(null),[n,d]=u.useState({isOpen:!1,type:"success",title:"",desc:""}),v=new Date().getFullYear(),[r,w]=u.useState((new Date().getMonth()+1).toString()),[t,N]=u.useState(v.toString()),l=[{label:"Januari",value:"1"},{label:"Februari",value:"2"},{label:"Maret",value:"3"},{label:"April",value:"4"},{label:"Mei",value:"5"},{label:"Juni",value:"6"},{label:"Juli",value:"7"},{label:"Agustus",value:"8"},{label:"September",value:"9"},{label:"Oktober",value:"10"},{label:"November",value:"11"},{label:"Desember",value:"12"}],k=[{label:"2024",value:"2024"},{label:"2025",value:"2025"},{label:"2026",value:"2026"}],y=()=>{s("global_excel");const a=m.downloadGlobal("excel",parseInt(r),parseInt(t));window.open(a,"_blank"),setTimeout(()=>{s(null),d({isOpen:!0,type:"success",title:"Download Dimulai",desc:`Laporan iuran global bulan ${l[parseInt(r)-1].label} ${t} sedang diunduh.`})},1e3)},_=()=>{s("global_pdf");const a=m.downloadGlobal("pdf",parseInt(r),parseInt(t));window.open(a,"_blank"),setTimeout(()=>{s(null),d({isOpen:!0,type:"success",title:"Download Dimulai",desc:`Laporan PDF global bulan ${l[parseInt(r)-1].label} ${t} sedang diunduh.`})},1e3)},D=()=>{s("pengeluaran_excel");const a=m.downloadPengeluaran("excel",parseInt(r),parseInt(t));window.open(a,"_blank"),setTimeout(()=>{s(null),d({isOpen:!0,type:"success",title:"Download Dimulai",desc:`Laporan pengeluaran bulan ${l[parseInt(r)-1].label} ${t} sedang diunduh.`})},1e3)},P=()=>{s("pengeluaran_pdf");const a=m.downloadPengeluaran("pdf",parseInt(r),parseInt(t));window.open(a,"_blank"),setTimeout(()=>{s(null),d({isOpen:!0,type:"success",title:"Download Dimulai",desc:`Laporan PDF pengeluaran bulan ${l[parseInt(r)-1].label} ${t} sedang diunduh.`})},1e3)},{data:p}=I({queryKey:["students",r,t],queryFn:()=>E.getStudents(parseInt(r),parseInt(t))}),g=p&&p.length>0&&p.some(a=>(a.m1||0)+(a.m2||0)+(a.m3||0)+(a.m4||0)+(a.m5||0)>0),i=o!==null;return e.jsxs("div",{className:"p-4 md:p-8 bg-background min-h-screen animate-fadeIn pb-32",children:[e.jsxs("div",{className:"max-w-4xl mx-auto mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-extrabold text-foreground tracking-tight",children:"Pusat Ekspor"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Unduh laporan keuangan dan kartu kendali dalam format digital."})]}),e.jsxs("div",{className:"bg-card p-3 rounded-2xl shadow-sm border border-border flex items-center gap-3 w-full md:w-auto",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400 shrink-0",children:e.jsx(h,{className:"w-5 h-5"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-1 md:min-w-[300px]",children:[e.jsx(j,{label:"",value:r,onChange:a=>w(a.target.value),options:l}),e.jsx(j,{label:"",value:t,onChange:a=>N(a.target.value),options:k})]})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[!g&&e.jsxs("div",{className:"bg-card rounded-3xl border-2 border-dashed border-border p-6 md:p-12 text-center animate-fadeIn",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(h,{className:"w-10 h-10 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Belum Ada Data"}),e.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:["Belum ada transaksi yang tercatat untuk periode ",e.jsxs("span",{className:"font-semibold text-foreground",children:[l[parseInt(r)-1].label," ",t]}),". Silakan pilih periode lain atau hubungi admin."]})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-[1px] flex-1 bg-border"}),e.jsx("h3",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"Laporan Pemasukan"}),e.jsx("div",{className:"h-[1px] flex-1 bg-border"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("button",{onClick:y,disabled:i,className:"relative group flex items-start gap-5 p-6 bg-card rounded-[2rem] border border-border shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-300 text-left w-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o==="global_excel"?e.jsx(x,{className:"w-6 h-6 text-emerald-500 animate-spin"}):e.jsx(c,{className:"w-6 h-6 text-emerald-500"})}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-800/30 rounded-2xl flex items-center justify-center text-emerald-600 dark:text-emerald-400 shadow-sm shrink-0 group-hover:scale-110 transition-transform duration-300",children:e.jsx(b,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-foreground mb-1 group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors",children:"Laporan Pemasukan Excel"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded-md text-[10px] font-bold",children:"EXCEL"}),e.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground rounded-md text-[10px] font-bold",children:".XLSX"})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Rekapitulasi pemasukan iuran seluruh anggota."})]})]}),e.jsxs("button",{onClick:_,disabled:i,className:"relative group flex items-start gap-5 p-6 bg-card rounded-[2rem] border border-border shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-300 text-left w-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o==="global_pdf"?e.jsx(x,{className:"w-6 h-6 text-rose-500 animate-spin"}):e.jsx(c,{className:"w-6 h-6 text-rose-500"})}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-50 to-rose-100 dark:from-rose-900/30 dark:to-rose-800/30 rounded-2xl flex items-center justify-center text-rose-600 dark:text-rose-400 shadow-sm shrink-0 group-hover:scale-110 transition-transform duration-300",children:e.jsx(f,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-foreground mb-1 group-hover:text-rose-700 dark:group-hover:text-rose-400 transition-colors",children:"Laporan Pemasukan PDF"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-rose-50 dark:bg-rose-900/30 text-rose-700 dark:text-rose-400 rounded-md text-[10px] font-bold",children:"PDF"}),e.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground rounded-md text-[10px] font-bold",children:"RESMI"})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Format dokumen pemasukan resmi siap cetak."})]})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-[1px] flex-1 bg-border"}),e.jsx("h3",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"Laporan Pengeluaran"}),e.jsx("div",{className:"h-[1px] flex-1 bg-border"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("button",{onClick:D,disabled:i,className:"relative group flex items-start gap-5 p-6 bg-card rounded-[2rem] border border-border shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-300 text-left w-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o==="pengeluaran_excel"?e.jsx(x,{className:"w-6 h-6 text-orange-500 animate-spin"}):e.jsx(c,{className:"w-6 h-6 text-orange-500"})}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-2xl flex items-center justify-center text-orange-600 dark:text-orange-400 shadow-sm shrink-0 group-hover:scale-110 transition-transform duration-300",children:e.jsx(b,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-foreground mb-1 group-hover:text-orange-700 dark:group-hover:text-orange-400 transition-colors",children:"Laporan Pengeluaran Excel"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-md text-[10px] font-bold",children:"EXCEL"}),e.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground rounded-md text-[10px] font-bold",children:".XLSX"})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Rekapitulasi seluruh pengeluaran kas."})]})]}),e.jsxs("button",{onClick:P,disabled:i,className:"relative group flex items-start gap-5 p-6 bg-card rounded-[2rem] border border-border shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-300 text-left w-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o==="pengeluaran_pdf"?e.jsx(x,{className:"w-6 h-6 text-red-500 animate-spin"}):e.jsx(c,{className:"w-6 h-6 text-red-500"})}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/30 rounded-2xl flex items-center justify-center text-red-600 dark:text-red-400 shadow-sm shrink-0 group-hover:scale-110 transition-transform duration-300",children:e.jsx(f,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-foreground mb-1 group-hover:text-red-700 dark:group-hover:text-red-400 transition-colors",children:"Laporan Pengeluaran PDF"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-md text-[10px] font-bold",children:"PDF"}),e.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground rounded-md text-[10px] font-bold",children:"RESMI"})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Format dokumen pengeluaran resmi siap cetak."})]})]})]})]})]})]}),e.jsx(S,{isOpen:n.isOpen,onClose:()=>d({...n,isOpen:!1}),title:n.title,description:n.desc,type:n.type})]})}export{T as ExportScreen};
