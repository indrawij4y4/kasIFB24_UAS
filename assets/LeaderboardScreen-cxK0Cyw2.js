import{j as e,a as h,v as i,m as u,w as f,x as p}from"./ui-ojUPcdkR.js";import{u as w}from"./useQuery-DrWLbDdI.js";import{c as s,a as j}from"./index-b6SL6hsZ.js";import"./vendor-S3JaNCHW.js";function S(){const{data:a,isLoading:x}=w({queryKey:["leaderboard"],queryFn:j.getLeaderboard});if(x||!a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-muted-foreground"})});const c=a[0],m=a[1],g=a[2],n=[m,c,g].filter(t=>t!==void 0),d=a.slice(3),b=t=>{switch(t){case 1:return{height:"h-48 md:h-56",order:"order-2",gradient:"bg-gradient-to-b from-yellow-200 via-yellow-100 to-white dark:from-yellow-600/20 dark:via-yellow-700/10 dark:to-transparent",border:"border-yellow-200 dark:border-yellow-600/30",text:"text-yellow-700 dark:text-yellow-500",badge:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600/30",shadow:"shadow-yellow-500/10",ring:"ring-4 ring-yellow-50 dark:ring-yellow-900/20",label:"1st"};case 2:return{height:"h-40 md:h-44",order:"order-1",gradient:"bg-gradient-to-b from-slate-200 via-slate-100 to-white dark:from-slate-700/30 dark:via-slate-800/20 dark:to-transparent",border:"border-slate-200 dark:border-slate-700/50",text:"text-slate-600 dark:text-slate-400",badge:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800/50 dark:text-slate-300 dark:border-slate-700",shadow:"shadow-slate-500/10",ring:"ring-0",label:"2nd"};case 3:return{height:"h-36 md:h-40",order:"order-3",gradient:"bg-gradient-to-b from-orange-200 via-orange-100 to-white dark:from-orange-800/20 dark:via-orange-900/10 dark:to-transparent",border:"border-orange-200 dark:border-orange-700/30",text:"text-orange-700 dark:text-orange-500",badge:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-700/30",shadow:"shadow-orange-500/10",ring:"ring-0",label:"3rd"};default:return{height:"",order:"",gradient:"",border:"",text:"",badge:"",shadow:"",ring:"",label:""}}};return e.jsxs("div",{className:"min-h-screen bg-background pb-32 max-w-7xl mx-auto font-sans",children:[e.jsx("div",{className:"bg-card px-6 pt-8 pb-10 border-b border-border",children:e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(i,{className:"w-4 h-4 text-emerald-600"}),e.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:["Periode ",new Date().getFullYear()]})]}),e.jsx("h1",{className:"text-2xl font-bold text-foreground tracking-tight",children:"Top Contributors"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-md",children:"Apresiasi untuk siswa dengan kontribusi iuran paling konsisten."})]}),e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Total Participants"}),e.jsxs("p",{className:"text-lg font-bold text-foreground",children:[a.length," Siswa"]})]})]})}),n.length>0&&e.jsx("div",{className:"px-6 -mt-6 mb-8",children:e.jsx("div",{className:"flex items-end justify-center gap-3 md:gap-6 max-w-lg mx-auto",children:n.map(t=>{const o=a.indexOf(t)+1,r=b(o);return e.jsxs(u.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:o*.15,type:"spring",stiffness:100},className:s("relative flex-1 min-w-[100px] flex flex-col justify-end",r.order),children:[e.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 z-10 flex flex-col items-center",children:[e.jsx("div",{className:s("w-14 h-14 md:w-20 md:h-20 rounded-full flex items-center justify-center text-lg md:text-2xl font-bold border-4 bg-white shadow-lg",r.border,r.text,r.ring),children:t.name.charAt(0)}),o===1&&e.jsx("div",{className:"absolute -top-6",children:e.jsx(f,{className:"w-8 h-8 text-yellow-400 fill-yellow-400 drop-shadow-sm"})})]}),e.jsxs("div",{className:s("w-full rounded-t-2xl p-4 pt-10 flex flex-col items-center text-center border-t border-x bg-card",r.height,r.gradient,r.border,r.shadow),children:[e.jsx("h3",{className:s("text-2xl font-black mb-1 opacity-20 select-none",r.text),children:r.label}),e.jsxs("div",{className:"mt-auto pb-2 w-full",children:[e.jsx("p",{className:"text-sm font-bold text-foreground line-clamp-1 px-1 mb-1 truncate w-full",children:t.name.split(" ")[0]}),e.jsxs("p",{className:s("text-xs font-bold",r.text),children:["Rp ",t.amount/1e3,"k"]})]})]})]},t.nim)})})}),d.length>0&&e.jsxs("div",{className:"px-4 max-w-2xl mx-auto pb-20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[e.jsx(p,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-bold uppercase text-muted-foreground tracking-wider",children:"Runner Ups"})]}),e.jsx("div",{className:"bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:d.map((t,l)=>e.jsxs("div",{className:s("flex items-center px-4 py-3.5 hover:bg-muted/50 transition-colors cursor-default",l!==d.length-1?"border-b border-border":""),children:[e.jsx("div",{className:"w-8 font-mono text-sm font-medium text-slate-400",children:String(l+4).padStart(2,"0")}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 mr-3 flex items-center justify-center text-xs font-bold text-slate-500",children:t.name.charAt(0)}),e.jsx("div",{className:"flex-1 min-w-0 mr-4",children:e.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:t.name})}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-bold text-foreground font-mono",children:["Rp ",t.amount.toLocaleString("id-ID")]})})]},t.nim))})]}),a.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(i,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Data leaderboard belum tersedia"}),e.jsx("p",{className:"text-xs text-muted-foreground/50 mt-1",children:"Belum ada transaksi yang tercatat"})]})]})}export{S as LeaderboardScreen};
